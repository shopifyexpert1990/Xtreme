<div class="{{ section.settings.color_scheme }}-scheme spacing-box">
  <div class="{{ settings.layout_width }}">
    {% if section.settings.heading != blank %}
      <div class="heading-header">
        <h2 class="store-locator-heading {{ section.settings.heading_size }} {{ section.settings.heading_size_mobile }} align-{{ section.settings.heading_alignment }}">
          {{ section.settings.heading }}
        </h2>
      </div>
    {% endif %}
    {% if section.blocks.size > 0 %}
      <store-locator-map class="store-locator-wrapper" data>
        <div class="store-locator-list">
          <ul class="no-bullet store-locator-list-inner">
            {% for block in section.blocks %}
              <li
                class="store-locator-list-item{% if forloop.first %} active{% endif %}"
                data-locator-item
                data-map-loaction="{{ block.settings.location }}"
                data-id="store-content-{{ block.id }}"
              >
                <span class="store-locator-icon">
                  <svg
                    width="15"
                    height="22"
                    viewBox="0 0 15 22"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                        d="M7.49998 0.727295C3.53784 0.727295 0.333313 3.99008 0.333313 8.02426C0.333313 13.497 7.49998 21.5758 7.49998 21.5758C7.49998 21.5758 14.6666 13.497 14.6666 8.02426C14.6666 3.99008 11.4621 0.727295 7.49998 0.727295ZM7.49998 10.6303C6.08712 10.6303 4.94046 9.46281 4.94046 8.02426C4.94046 6.58572 6.08712 5.4182 7.49998 5.4182C8.91284 5.4182 10.0595 6.58572 10.0595 8.02426C10.0595 9.46281 8.91284 10.6303 7.49998 10.6303Z"
                        fill="var(--bodyTextColor)" />
                  </svg>
                </span>
                <h5 class="store-locator-title">
                  {% if block.settings.store_name != blank -%}
                    {{ block.settings.store_name -}}
                  {%- else -%}
                    Store name
                  {%- endif %}
                </h5>
              </li>
            {% endfor %}
          </ul>
        </div>

        <div class="store-locator-content-wrapper">
          <div class="store-locator-content-inner">
            {% for block in section.blocks %}
              <div
                class="Store-locator-inner-item {% if forloop.first %} active{% else %} hidden{% endif %}"

                data-store-id="store-content-{{ block.id }}"
              >
                {% if block.settings.store_image != blank %}
                  <div
                    class="media-image"
                    style="--mediaRatio:{{ 1 | divided_by: block.settings.store_image.aspect_ratio | times: 100 | plus: 1 }}%"
                  >
                    {%- render 'image', image: block.settings.store_image -%}
                  </div>
                {% endif %}
                <div class="store-locator-content">
                  {% if block.settings.store_name != blank %}
                    <h6 class="store-locator-title">{{ block.settings.store_name }}</h6>
                  {% endif %}
                  <ul class="no-bullet">
                    {% if block.settings.store_detail != blank %}
                      <li>
                        <svg xmlns="http://www.w3.org/2000/svg" width="11" height="16" viewBox="0 0 11 16" fill="none">
                          <path d="M5.5 0C2.45929 0 0 2.504 0 5.6C0 9.8 5.5 16 5.5 16C5.5 16 11 9.8 11 5.6C11 2.504 8.54071 0 5.5 0ZM5.5 7.6C4.41571 7.6 3.53571 6.704 3.53571 5.6C3.53571 4.496 4.41571 3.6 5.5 3.6C6.58429 3.6 7.46429 4.496 7.46429 5.6C7.46429 6.704 6.58429 7.6 5.5 7.6Z" fill="currentColor"/>
                        </svg>
                        {{ block.settings.store_detail }}
                      </li>
                    {% endif %}
                    {% if block.settings.phone != blank %}
                      <li>
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                          <path d="M10.703 13.9001C7.86552 13.8964 5.1453 12.7676 3.1389 10.7612C1.13249 8.75478 0.00367788 6.03456 0 3.19708C0 2.34918 0.336826 1.53601 0.93638 0.936459C1.53593 0.336905 2.3491 7.94349e-05 3.197 7.94349e-05C3.37655 -0.00128819 3.55579 0.0150069 3.73215 0.0487294C3.90264 0.0739582 4.07024 0.115859 4.23255 0.173829C4.3467 0.213882 4.44842 0.283037 4.52765 0.374457C4.60688 0.465876 4.66088 0.576393 4.6843 0.69508L5.63645 4.86508C5.66211 4.97827 5.65902 5.09608 5.62746 5.20777C5.5959 5.31946 5.53686 5.42147 5.45575 5.50448C5.3654 5.60178 5.35845 5.60873 4.5036 6.05353C5.18817 7.55533 6.38927 8.76136 7.88825 9.45208C8.34 8.59028 8.34695 8.58333 8.44425 8.49298C8.52726 8.41187 8.62927 8.35283 8.74096 8.32127C8.85265 8.28971 8.97046 8.28662 9.08365 8.31228L13.2537 9.26443C13.3685 9.29109 13.4748 9.34654 13.5623 9.42557C13.6498 9.5046 13.7158 9.60461 13.7541 9.71618C13.8127 9.88114 13.8569 10.0509 13.8861 10.2235C13.9141 10.3982 13.928 10.5748 13.9278 10.7517C13.915 11.596 13.5687 12.4009 12.9645 12.9908C12.3603 13.5806 11.5473 13.9075 10.703 13.9001Z" fill="currentColor"/>
                        </svg>
                        {{ block.settings.phone }}
                      </li>
                    {% endif %}
                    {% if block.settings.timing != blank %}
                      <li>
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M9 1.5C7.51664 1.5 6.0666 1.93987 4.83323 2.76398C3.59986 3.58809 2.63856 4.75943 2.07091 6.12987C1.50325 7.50032 1.35472 9.00832 1.64411 10.4632C1.9335 11.918 2.64781 13.2544 3.6967 14.3033C4.7456 15.3522 6.08197 16.0665 7.53683 16.3559C8.99168 16.6453 10.4997 16.4968 11.8701 15.9291C13.2406 15.3614 14.4119 14.4001 15.236 13.1668C16.0601 11.9334 16.5 10.4834 16.5 9C16.5 8.01509 16.306 7.03982 15.9291 6.12987C15.5522 5.21993 14.9997 4.39314 14.3033 3.6967C13.6069 3.00026 12.7801 2.44781 11.8701 2.0709C10.9602 1.69399 9.98492 1.5 9 1.5ZM12 9.75H9C8.80109 9.75 8.61033 9.67098 8.46967 9.53033C8.32902 9.38968 8.25 9.19891 8.25 9V6C8.25 5.80109 8.32902 5.61032 8.46967 5.46967C8.61033 5.32902 8.80109 5.25 9 5.25C9.19892 5.25 9.38968 5.32902 9.53033 5.46967C9.67099 5.61032 9.75 5.80109 9.75 6V8.25H12C12.1989 8.25 12.3897 8.32902 12.5303 8.46967C12.671 8.61032 12.75 8.80109 12.75 9C12.75 9.19891 12.671 9.38968 12.5303 9.53033C12.3897 9.67098 12.1989 9.75 12 9.75Z" fill="currentColor"/>
                        </svg>
                        {{ block.settings.timing }}
                      </li>
                    {% endif %}
                  </ul>
                </div>
              </div>
            {% endfor %}
          </div>
          <div class="store-locator-map">
            {% for block in section.blocks %}
              <div
                class="store-locator-image {% if forloop.first %} active{% else %} hidden{% endif %}"
                id="store-content-{{ block.id }}"
              >
                {% if block.settings.location_imgae != blank %}
                  <div
                    class="media-image"
                    style="--mediaRatio:{{ 1 | divided_by: block.settings.store_image.aspect_ratio | times: 100 | plus: 1 }}%"
                  >
                    {%- render 'image', image: block.settings.location_imgae -%}
                  </div>
                {% else %}
                  <div
                    class="media-image"
                    style="--mediaRatio:100%"
                  >
                    {{ 'hero-apparel-3' | placeholder_svg_tag: 'placeholder-svg' }}
                  </div>
                {% endif %}
              </div>
            {% endfor %}
            <div class="store-locator-map-wrapper">
              <div
                class="store-locator-load-map"
                data-map-main-container
                data-map-style="roadmap"
                data-location="{{ section.blocks.first.settings.location  }}"
              ></div>
            </div>
          </div>
        </div>
      </store-locator-map>
    {% endif %}
  </div>
</div>
<style>
  #shopify-section-{{ section.id }} {
    --topSpace:{{ section.settings.top_space_desktop }}px;
    --bottomSpace:{{ section.settings.bottom_space_desktop }}px;
  }

  @media only screen and (max-width:767px) {
    #shopify-section-{{ section.id }}.shopify-section{
      --topSpace:{{ section.settings.top_space_mobile }}px;
      --bottomSpace:{{ section.settings.bottom_space_mobile }}px;
    }

  }
</style>
{% schema %}
{
  "name": "t:sections.store_locator.name",
  "class": "section-store-locator",
  "tag": "section",
  "disabled_on": {
     "groups": ["header", "footer","aside"]
  },
  "settings": [
 {
    "type": "text",
    "id": "heading",
    "default": "Store locator",
    "label": "t:common.global.heading.label"
  },
  {
    "type": "select",
    "id": "heading_size",
    "default": "h2",
     "label": "t:common.heading_size.desktop_label",
    "options": [
      {
      "value": "h1",
        "label": "t:common.heading_size.options.extra_large.label"
      },
      {
        "value": "h2",
        "label": "t:common.heading_size.options.large.label"
      },
      {
        "value": "h3",
        "label": "t:common.heading_size.options.medium.label"
      },
      {
        "value": "h4",
        "label": "t:common.heading_size.options.small.label"
      },
      {
        "value": "h5",
        "label": "t:common.heading_size.options.extra_small.label"
      }
    ]
  },
  {
        "type": "select",
        "id": "heading_size_mobile",
        "default": "h3_mobile",
        "label": "t:common.heading_size.mobile_label",
        "options": [
         {
          "value": "h1_mobile",
          "label": "t:common.heading_size.options.extra_large.label"
          },
          {
            "value": "h2_mobile",
            "label": "t:common.heading_size.options.large.label"
          },
          {
            "value": "h3_mobile",
            "label": "t:common.heading_size.options.medium.label"
          },
          {
            "value": "h4_mobile",
            "label": "t:common.heading_size.options.small.label"
          },
          {
            "value": "h5_mobile",
            "label": "t:common.heading_size.options.extra_small.label"
          }
        ]
    },
    {
      "type": "text_alignment",
      "id": "heading_alignment",
      "label": "t:common.global.heading_alignment.label",
      "default": "left"

    },
      {
      "type": "header",
     "content": "t:common.header.colors.content"
    },
      {
        "type": "color_scheme",
        "id": "color_scheme",
        "default": "primary",
        "label": "t:common.global.color_scheme.label"
    },
      {
      "type": "header",
      "content": "t:common.header.section_spacing.content"
    },
    {
      "type": "range",
      "id": "top_space_desktop",
       "label": "t:common.section_spacing.top_space_desktop.label",
      "default": 80,
      "min": 0,
      "max": 150,
      "step": 5
    },
    {
      "type": "range",
      "id": "bottom_space_desktop",
      "label": "t:common.section_spacing.bottom_space_desktop.label",
      "default": 80,
      "min": 0,
      "max": 150,
      "step": 5
    },
    {
      "type": "range",
      "id": "top_space_mobile",
      "label": "t:common.section_spacing.top_space_mobile.label",
      "default": 40,
      "min": 0,
      "max": 100,
      "step": 5
    },
    {
      "type": "range",
      "id": "bottom_space_mobile",
      "label": "t:common.section_spacing.bottom_space_mobile.label",
      "default": 40,
      "min": 0,
      "max": 100,
      "step": 5
    }
  ],
   "blocks": [
    {
      "type": "store",
      "name": "t:sections.store_locator.blocks.name",
      "settings": [
        {
          "type": "image_picker",
           "id": "store_image",
          "label": "t:sections.store_locator.blocks.settings.store_image.label"
        },
        {
          "type": "text",
           "id": "store_name",
           "label": "t:sections.store_locator.blocks.settings.store_name.label",
          "default":"Store name"
        },
        {
          "type": "richtext",
           "id": "store_detail",
          "label": "t:sections.store_locator.blocks.settings.store_detail.label",
          "default": "<p>Add store details here</p>"
        },
        {
          "type":"text",
          "id":"phone",
          "label": "t:sections.store_locator.blocks.settings.phone.label",
          "default":"(321)-454-908"
        },
        {
          "type":"text",
          "id":"timing",
          "label": "t:sections.store_locator.blocks.settings.timing.label",
          "default":"Mon–Sat: 11am–6pm, Sun: 12–6pm"
        },
        {
          "type": "image_picker",
          "id": "location_imgae",
          "label": "t:sections.store_locator.blocks.settings.location_imgae.label"
        },
        {
          "type": "text",
          "id": "location",
          "label": "t:sections.store_locator.blocks.settings.location.label",
          "info": "t:sections.store_locator.blocks.settings.location.info"
        }

      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.store_locator.presets.name",
      "blocks": [
        {
          "type": "store"
        },
        {
          "type": "store"
        },
        {
          "type": "store"
        }
      ]
    }
  ]
}
{% endschema %}
